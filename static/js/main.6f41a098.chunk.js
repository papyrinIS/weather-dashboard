(this["webpackJsonpweather-dashboard"]=this["webpackJsonpweather-dashboard"]||[]).push([[0],{41:function(n,e,t){n.exports=t(70)},46:function(n,e,t){},47:function(n,e,t){},70:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(5),i=t.n(c),o=(t(46),t(38)),u=(t(47),t(4)),l=t(18),s=t.n(l),d=t(32),p=t(19),f=t(13),b=t(33),h=t.n(b).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),m=function(n){return h.get("weather?q=".concat(n,"&appid=dcca529665a37812e85088afd3957d4d&units=metric")).then((function(n){return n.data}))},x={dashboards:[],city:"",error:!1},v=function(n){return{type:"GET_WEATHER",dashboard:n}},g=function(n){return{type:"GET_CITY",city:n}},O=function(n){return{type:"DELETE_DASHBOARD",newDashboards:n}},E=function(n){return{type:"ERROR",error:n}},j=t(71),y=t(2),w=t(3);function R(){var n=Object(y.a)(["\n        font-size: 19px;\n        padding: 5px 10px;\n        color: red;\n        border-radius: 10px;\n        border: 2px solid red;\n        background: transparent;\n        font-weight: bold;\n        transition:.5s ease-in;\n           &:hover {\n          cursor: pointer;\n           }\n           opacity: 0;\n           visibility: hidden;\n"]);return R=function(){return n},n}function k(){var n=Object(y.a)(["\n        position: relative;\n        bottom: 25px;\n        left: 60px;\n        width: 100px;\n        height: 40px;\n"]);return k=function(){return n},n}function S(){var n=Object(y.a)(["\nfont-size: 30px;    \n"]);return S=function(){return n},n}function T(){var n=Object(y.a)(["\nfont-size: 35px;\n        margin: 5px;\n"]);return T=function(){return n},n}function C(){var n=Object(y.a)(["\n      width: 200px;\n      height: 250px;\n      background: #61dafb;\n      display: flex;\n      justify-content: center;\n      flex-direction: column;\n      align-items: center;\n      margin: 10px;\n      transition:0.5s ease;\n      border:1px solid #009afb;\n      box-shadow: 5px 5px 5px 2px #007577 ;\n      &:hover{\n      Button{\n      opacity: 1;\n      visibility: visible;\n      }\n      }\n"]);return C=function(){return n},n}var D=w.a.div(C()),z=w.a.div(T()),A=w.a.div(S()),_=w.a.div(k()),J=w.a.button(R()),B=function(n){var e=n.dashboard,t=e.name,c=Object(u.c)((function(n){return n.Reducer.dashboards})),i=Object(u.b)(),o=Object(r.useCallback)((function(){var n=c.filter((function(n){return n.name!==t}));i(O(n))}),[i,c,t]);return a.a.createElement(D,null,a.a.createElement(_,null,a.a.createElement(J,{onClick:o},"delete")),a.a.createElement(z,null,t),a.a.createElement(A,null,Math.round(e.main.temp),"\u2103"),a.a.createElement("img",{alt:"icon",src:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png")}))},G=t(72);function H(){var n=Object(y.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return H=function(){return n},n}function N(){var n=Object(y.a)(["\n    font-size: 25px;\n    margin: 10px;\n"]);return N=function(){return n},n}function I(){var n=Object(y.a)(["\n    height: 40px;\n    color: red;\n    font-size: 25px;\n"]);return I=function(){return n},n}function L(){var n=Object(y.a)(["\n display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 20px;\n    \n     & input {\n      height: 30px;\n      font-size: 25px;\n      padding-left: 5px;\n      width: 250px;\n    }\n    \n    & button {\n      margin-left: 10px;\n      font-size: 19px;\n      padding: 5px 10px;\n\n      &:hover {\n        cursor: pointer;\n      }"]);return L=function(){return n},n}function W(){var n=Object(y.a)(["\ntext-align: center;\nmargin: auto;"]);return W=function(){return n},n}var Y=w.a.div(W()),q=w.a.div(L()),M=w.a.div(I()),P=w.a.div(N()),U=Object(w.a)(G.a)(H()),$=function(){var n=Object(u.b)(),e=Object(u.c)((function(n){return n.Reducer.city})),t=Object(u.c)((function(n){return n.Reducer.dashboards})),c=Object(u.c)((function(n){return n.Reducer.error}));Object(r.useEffect)((function(){""!==e&&n(function(n){return function(){var e=Object(d.a)(s.a.mark((function e(t){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(n);case 3:r=e.sent,a=t(v(r)),Promise.all([a]).then((function(){t(g(""))})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t(g("")),t(E(!0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()}(e))}),[n,e]);var i=Object(r.useState)(""),l=Object(o.a)(i,2),p=l[0],f=l[1],b=Object(r.useCallback)((function(){n(g(p))}),[n,p]),h=Object(r.useCallback)((function(){f("")}),[f]),x=t.map((function(n){return a.a.createElement(j.a,{classNames:"animate",timeout:500,key:n.name},a.a.createElement(B,{dashboard:n}))}));return c&&setTimeout((function(){return n(E(!1))}),3e3),a.a.createElement(Y,null,a.a.createElement(q,null,a.a.createElement("input",{value:p,onChange:function(n){f(n.currentTarget.value.replace(/^[\u0430-\u044f\u0410-\u042f]+$/,""))},placeholder:"search"}),a.a.createElement("button",{onClick:b},"add"),a.a.createElement("button",{onClick:h},"Clear")),a.a.createElement(M,null,c&&a.a.createElement("span",null,"city not found")),0===t.length&&a.a.createElement(P,null,"Dashboard is empty"),a.a.createElement(U,null,x))},F=t(10),K=t(37),Q=Object(F.c)({Reducer:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_WEATHER":return Object(f.a)({},n,{dashboards:[].concat(Object(p.a)(n.dashboards),[e.dashboard])});case"GET_CITY":return Object(f.a)({},n,{city:e.city});case"DELETE_DASHBOARD":return Object(f.a)({},n,{dashboards:Object(p.a)(e.newDashboards)});case"ERROR":return Object(f.a)({},n,{error:e.error});default:return n}}}),V=Object(F.d)(Q,localStorage.weather?JSON.parse(localStorage.weather):{},Object(F.a)(K.a));V.subscribe((function(){localStorage.weather?localStorage.weather=JSON.stringify(V.getState()):localStorage.weather=JSON.stringify(x)})),window.store=V;var X=V;i.a.render(a.a.createElement(u.a,{store:X},a.a.createElement($,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.6f41a098.chunk.js.map