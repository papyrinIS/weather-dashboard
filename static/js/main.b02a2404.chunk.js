(this["webpackJsonpweather-dashboard"]=this["webpackJsonpweather-dashboard"]||[]).push([[0],{34:function(n,e,t){n.exports=t(63)},39:function(n,e,t){},63:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(10),i=t.n(c),o=(t(39),t(33)),u=t(2),l=t(4),s=t(13),d=t.n(s),f=t(27),p=t(14),b=t(9),h=t(28),m=t.n(h).a.create({baseURL:"https://api.openweathermap.org/data/2.5/weather?"}),v=function(n){return m.get("&q=".concat(n,"&APPID=dcca529665a37812e85088afd3957d4d&units=metric&SameSite=None")).then((function(n){return n.data}))},g={dashboards:[],city:"",error:!1},x=function(n){return{type:"CITY",city:n}},O=function(n){return{type:"ERROR",error:n}},E=t(3);function j(){var n=Object(u.a)(["\n        font-size: 19px;\n        padding: 5px 10px;\n        color: red;\n        border-radius: 10px;\n        border: 2px solid red;\n        background: transparent;\n        font-weight: bold;\n        transition:.5s ease-in;\n           &:hover {\n          cursor: pointer;\n           }\n           opacity: 0;\n           visibility: hidden;\n"]);return j=function(){return n},n}function y(){var n=Object(u.a)(["\n        position: relative;\n        bottom: 25px;\n        left: 60px;\n        width: 100px;\n        height: 40px;\n"]);return y=function(){return n},n}function w(){var n=Object(u.a)(["\nfont-size: 30px;    \n"]);return w=function(){return n},n}function R(){var n=Object(u.a)(["\nfont-size: 35px;\n        margin: 5px;\n"]);return R=function(){return n},n}function S(){var n=Object(u.a)(["\n      width: 200px;\n      height: 250px;\n      background: #61dafb;\n      display: flex;\n      justify-content: center;\n      flex-direction: column;\n      align-items: center;\n      margin: 10px;\n      transition:5s ease;\n      &:hover{\n      Button{\n      opacity: 1;\n      visibility: visible;\n      }\n      }\n"]);return S=function(){return n},n}var k=E.a.div(S()),C=E.a.div(R()),D=E.a.div(w()),T=E.a.div(y()),z=E.a.button(j()),A=function(n){var e=n.mainWeather,t=n.city,c=n.icon,i=Object(l.c)((function(n){return n.Reducer.dashboards})),o=Object(l.b)(),u=Object(r.useCallback)((function(){var n=i.filter((function(n){return n.name!==t}));o(function(n){return{type:"DELETE_DASHBOARD",newDashboards:n}}(n))}),[o,i,t]);return a.a.createElement(k,null,a.a.createElement(T,null,a.a.createElement(z,{onClick:u},"delete")),a.a.createElement(C,null,t),a.a.createElement(D,null,Math.round(e.temp),"\u2103"),a.a.createElement("img",{alt:"icon",src:"http://openweathermap.org/img/wn/".concat(c,"@2x.png")}))};function J(){var n=Object(u.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return J=function(){return n},n}function B(){var n=Object(u.a)(["\n    font-size: 25px;\n    margin: 10px;\n"]);return B=function(){return n},n}function H(){var n=Object(u.a)(["\n    height: 40px;\n    color: red;\n    font-size: 25px;\n"]);return H=function(){return n},n}function I(){var n=Object(u.a)(["\n display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 20px;\n    \n     & input {\n      height: 30px;\n      font-size: 25px;\n      padding-left: 5px;\n      width: 250px;\n    }\n    \n    & button {\n      margin-left: 10px;\n      font-size: 19px;\n      padding: 5px 10px;\n\n      &:hover {\n        cursor: pointer;\n      }"]);return I=function(){return n},n}function N(){var n=Object(u.a)(["\ntext-align: center;\nmargin: auto;"]);return N=function(){return n},n}var W=E.a.div(N()),_=E.a.div(I()),L=E.a.div(H()),P=E.a.div(B()),G=E.a.div(J()),Y=function(){var n=Object(l.b)(),e=Object(l.c)((function(n){return{dashboards:n.Reducer.dashboards,city:n.Reducer.city,error:n.Reducer.error}})),t=e.dashboards,c=e.city,i=e.error;Object(r.useEffect)((function(){c&&n(function(n){return function(){var e=Object(f.a)(d.a.mark((function e(t){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(n);case 3:r=e.sent,a=t({type:"GET_WEATHER",dashboard:r}),Promise.all([a]).then((function(){t(x(""))})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t(x("")),t(O(!0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()}(c))}),[n,c]);var u=Object(r.useState)(""),s=Object(o.a)(u,2),p=s[0],b=s[1],h=Object(r.useCallback)((function(){n(x(p))}),[n,p]),m=Object(r.useCallback)((function(){b("")}),[b]),g=t.map((function(n){return a.a.createElement(A,{key:n.name,icon:n.weather[0].icon,city:n.name,mainWeather:n.main})}));return i&&setTimeout((function(){return n(O(!1))}),3e3),a.a.createElement(W,null,a.a.createElement(_,null,a.a.createElement("input",{value:p,onChange:function(n){b(n.currentTarget.value.replace(/^[\u0430-\u044f\u0410-\u042f]+$/,""))},placeholder:"search"}),a.a.createElement("button",{onClick:h},"add"),a.a.createElement("button",{onClick:m},"Clear")),a.a.createElement(L,null,i&&a.a.createElement("span",null,"city not found")),0===t.length&&a.a.createElement(P,null,"Dashboard is empty"),a.a.createElement(G,null,g))},q=t(7),M=t(32),U=Object(q.c)({Reducer:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_WEATHER":return Object(b.a)({},n,{dashboards:[].concat(Object(p.a)(n.dashboards),[e.dashboard])});case"CITY":return Object(b.a)({},n,{city:e.city});case"DELETE_DASHBOARD":return Object(b.a)({},n,{dashboards:Object(p.a)(e.newDashboards)});case"ERROR":return Object(b.a)({},n,{error:e.error});default:return n}}}),$=Object(q.d)(U,localStorage.weather?JSON.parse(localStorage.weather):{},Object(q.a)(M.a));$.subscribe((function(){localStorage.weather?localStorage.weather=JSON.stringify($.getState()):localStorage.weather=JSON.stringify(g)})),window.store=$;var F=$;i.a.render(a.a.createElement(l.a,{store:F},a.a.createElement(Y,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.b02a2404.chunk.js.map